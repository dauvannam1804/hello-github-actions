# ğŸ§¾ TÃªn workflow hiá»ƒn thá»‹ trong tab "Actions" trÃªn GitHub
name: Deploy to GitHub Pages

# âš™ï¸ Khi nÃ o workflow cháº¡y
on:
  push:                  # KÃ­ch hoáº¡t khi cÃ³ "push"
    branches: ["main"]   # ... vÃ o nhÃ¡nh main
  workflow_dispatch:     # Cho phÃ©p cháº¡y thá»§ cÃ´ng trong tab Actions

# ğŸ” PhÃ¢n quyá»n cho workflow
permissions:
  contents: write  # Cho phÃ©p ghi vÃ o repo (cáº§n thiáº¿t Ä‘á»ƒ Ä‘áº©y lÃªn branch gh-pages)

# ğŸ’¼ Äá»‹nh nghÄ©a cÃ¡c "job" (cÃ´ng viá»‡c) cá»§a workflow
jobs:
  deploy:                # TÃªn job
    runs-on: ubuntu-latest  # Cháº¡y trÃªn mÃ¡y áº£o Ubuntu miá»…n phÃ­ do GitHub cung cáº¥p

    # ğŸªœ CÃ¡c bÆ°á»›c sáº½ cháº¡y láº§n lÆ°á»£t
    steps:
      # B1ï¸âƒ£: Láº¥y mÃ£ nguá»“n cá»§a repo vá» mÃ´i trÆ°á»ng cháº¡y
      - name: Checkout source code
        uses: actions/checkout@v4  # Action chÃ­nh thá»©c cá»§a GitHub Ä‘á»ƒ clone repo

      # B2ï¸âƒ£: (TÃ¹y chá»n) Build ná»™i dung tÄ©nh cá»§a website
      # á» Ä‘Ã¢y chá»‰ in ra thÃ´ng bÃ¡o. Náº¿u báº¡n dÃ¹ng React/Vite thÃ¬ thay báº±ng npm build.
      - name: Build static content
        run: echo "âœ… Build completed successfully!"

      # B3ï¸âƒ£: Deploy ná»™i dung lÃªn GitHub Pages
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3  # Action chuyÃªn dá»¥ng Ä‘á»ƒ deploy Pages
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}  # Token tá»± Ä‘á»™ng cáº¥p Ä‘á»ƒ Ä‘áº©y branch
          publish_dir: ./  # ThÆ° má»¥c chá»©a file HTML (á»Ÿ Ä‘Ã¢y lÃ  thÆ° má»¥c gá»‘c)
